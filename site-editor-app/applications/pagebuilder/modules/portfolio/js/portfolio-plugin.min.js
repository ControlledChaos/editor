/**
 * portfolio-plugin.min.js
 *
 *
 * License: http://www.siteeditor.org/license
 * Contributing: http://www.siteeditor.org/contributing
 */

/*global siteEditor:true */
siteEditor.PluginManager.add('portfolio', function(siteEditor) {
    var api = siteEditor.sedAppClass.editor , $ = siteEditor.dom.Sizzle , _sedPortfolioType;
    api.currentHoverEffectModel = api.currentHoverEffectModel || {};

    api.previewer.bind( 'sed_portfolio_type' , function( type ){
        _sedPortfolioType = type;
    });

    api.Events.bind( "after_apply_settings_relations_update" , function( shortcode ){
        if(shortcode == "sed_portfolio"){
            if( $.inArray( _sedPortfolioType , ["page_template" , "skill" , "tag" ,  "post_type"] ) != -1 )
                $("#sed_pb_sed_portfolio_portfolio_skills").parents(".row_settings:first").hide();
            else if( _sedPortfolioType == "category" )
                $("#sed_pb_sed_portfolio_portfolio_categories").parents(".row_settings:first").hide();


            if( _sedPortfolioType != "page_template" ){
                $("#sed_pb_sed_portfolio_portfolio_per_page").parents(".row_settings:first").hide();
            }

        }
    });

    /*$( function() {


    }); */

});