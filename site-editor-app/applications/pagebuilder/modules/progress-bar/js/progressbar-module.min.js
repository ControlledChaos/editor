(function( exports, $ ) {
    var api = sedApp.editor;

    $( function() {

        api.shortcodeCreate.sed_progress_bar = function( id , param ){

            if(param.context.transitiongoal > param.context.valuemax ){
                param.context.transitiongoal = param.context.valuemax;
            }

            if(param.context.valuemin >= param.context.transitiongoal || param.context.valuemin >= param.context.valuemax ){
                param.context.valuemin = param.context.transitiongoal;
            }

            if(param.context.type_text == 'none' || param.context.type_text == 'title-progress-bar'){
                param.context.setting_display_text = 'none';
            }
           // alert(param.context.setting_display_text);

            var js_settings_str = "",key_setting='';
            $.each( param.context , function( key , value ){
            	if( key.substr(0,7) == 'setting' ){
                    key_setting = key.substr(8);
                    js_settings_str += "data-" + key_setting.replace(/\_/gi , "-") + '=\"' + value + '\" ';   //console.log(value);console.log(js_settings_str);
            	}

            });
            param.context.item_settings = js_settings_str;
            return param;
        };

    });


}(sedApp, jQuery));