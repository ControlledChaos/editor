var less,tree;void 0===less&&(less=exports,tree=require("./tree"),less.mode="node"),less.Parser=function(a){function b(){v=z,w=A=t}function c(){z=v,A=t=w}function d(){t>A&&(z=z.slice(t-A),A=t)}function e(a,b){var c=a.charCodeAt(0|b);return c<=32&&(32===c||10===c||9===c)}function f(a){var b,c,e=typeof a;return"string"===e?s.charAt(t)!==a?null:(i(1),a):(d(),(b=a.exec(z))?(c=b[0].length,i(c),"string"==typeof b?b:1===b.length?b[0]:b):null)}function g(a){t>A&&(z=z.slice(t-A),A=t);var b=a.exec(z);return b?(i(b[0].length),"string"==typeof b?b:1===b.length?b[0]:b):null}function h(a){return s.charAt(t)!==a?null:(i(1),a)}function i(a){for(var b,c=t,d=u,e=t-A,f=t+z.length-e,g=t+=a,h=s;t<f&&(b=h.charCodeAt(t),!(b>32))&&(32===b||10===b||9===b||13===b);t++);return z=z.slice(a+t-g+e),A=t,!z.length&&u<y.length-1?(z=y[++u],i(0),!0):c!==t||d!==u}function j(a,b){var c="[object Function]"===Object.prototype.toString.call(a)?a.call(C):f(a);return c?c:void l(b||("string"==typeof a?"expected '"+a+"' got '"+s.charAt(t)+"'":"unexpected token"))}function k(a,b){return s.charAt(t)===a?(i(1),a):void l(b||"expected '"+a+"' got '"+s.charAt(t)+"'")}function l(a,b){var c=new Error(a);throw c.index=t,c.type=b||"Syntax",c}function m(a){return"string"==typeof a?s.charAt(t)===a:a.test(z)}function n(a){return s.charAt(t)===a}function o(a,b){return a.filename&&b.currentFileInfo.filename&&a.filename!==b.currentFileInfo.filename?B.imports.contents[a.filename]:s}function p(a,b){for(var c=a+1,d=null,e=-1;--c>=0&&"\n"!==b.charAt(c);)e++;return"number"==typeof a&&(d=(b.slice(0,a).match(/\n/g)||"").length),{line:d,column:e}}function q(a,b,c){var d=c.currentFileInfo.filename;return"browser"!==less.mode&&"rhino"!==less.mode&&(d=require("path").resolve(d)),{lineNumber:p(a,b).line+1,fileName:d}}function r(a,b){var c=o(a,b),d=p(a.index,c),e=d.line,f=d.column,g=a.call&&p(a.call,c).line,h=c.split("\n");this.type=a.type||"Syntax",this.message=a.message,this.filename=a.filename||b.currentFileInfo.filename,this.index=a.index,this.line="number"==typeof e?e+1:null,this.callLine=g+1,this.callExtract=h[g],this.stack=a.stack,this.column=f,this.extract=[h[e-1],h[e],h[e+1]]}var s,t,u,v,w,x,y,z,A,B,C,D=a&&a.filename;a instanceof tree.parseEnv||(a=new tree.parseEnv(a));var E=this.imports={paths:a.paths||[],queue:[],files:a.files,contents:a.contents,contentsIgnoredChars:a.contentsIgnoredChars,mime:a.mime,error:null,push:function(b,c,d,e){var f=this;this.queue.push(b);var g=function(a,c,d){f.queue.splice(f.queue.indexOf(b),1);var g=d in f.files||d===D;f.files[d]=c,a&&!f.error&&(f.error=a),e(a,c,g,d)};less.Parser.importer?less.Parser.importer(b,c,g,a):less.Parser.fileLoader(b,c,function(b,e,f,h){if(b)return void g(b);var i=new tree.parseEnv(a);i.currentFileInfo=h,i.processImports=!1,i.contents[f]=e,(c.reference||d.reference)&&(h.reference=!0),d.inline?g(null,e,f):new less.Parser(i).parse(e,function(a,b){g(a,b,f)})},a)}},F=g;return r.prototype=new Error,r.prototype.constructor=r,this.env=a=a||{},this.optimization="optimization"in this.env?this.env.optimization:1,B={imports:E,parse:function(b,c,d){var e,f,g,h,i,j=null,k="";if(t=u=A=x=0,h=d&&d.globalVars?less.Parser.serializeVars(d.globalVars)+"\n":"",i=d&&d.modifyVars?"\n"+less.Parser.serializeVars(d.modifyVars):"",(h||d&&d.banner)&&(k=(d&&d.banner?d.banner:"")+h,B.imports.contentsIgnoredChars[a.currentFileInfo.filename]=k.length),b=b.replace(/\r\n/g,"\n"),s=b=k+b.replace(/^\uFEFF/,"")+i,B.imports.contents[a.currentFileInfo.filename]=b,y=function(b){function c(b,c){j=new r({index:c||i,type:"Parse",message:b,filename:a.currentFileInfo.filename},a)}function d(a){var c=i-t;c<512&&!a||!c||(s.push(b.slice(t,i+1)),t=i+1)}var e,f,g,h,i,k,l,m,n,o=b.length,p=0,q=0,s=[],t=0;for(i=0;i<o;i++)if(l=b.charCodeAt(i),!(l>=97&&l<=122||l<34))switch(l){case 40:q++,f=i;continue;case 41:if(--q<0)return c("missing opening `(`");continue;case 59:q||d();continue;case 123:p++,e=i;continue;case 125:if(--p<0)return c("missing opening `{`");p||d();continue;case 92:if(i<o-1){i++;continue}return c("unescaped `\\`");case 34:case 39:case 96:for(n=0,k=i,i+=1;i<o;i++)if(m=b.charCodeAt(i),!(m>96)){if(m==l){n=1;break}if(92==m){if(i==o-1)return c("unescaped `\\`");i++}}if(n)continue;return c("unmatched `"+String.fromCharCode(l)+"`",k);case 47:if(q||i==o-1)continue;if(m=b.charCodeAt(i+1),47==m)for(i+=2;i<o&&(m=b.charCodeAt(i),!(m<=13)||10!=m&&13!=m);i++);else if(42==m){for(g=k=i,i+=2;i<o-1&&(m=b.charCodeAt(i),125==m&&(h=i),42!=m||47!=b.charCodeAt(i+1));i++);if(i==o-1)return c("missing closing `*/`",k);i++}continue;case 42:if(i<o-1&&47==b.charCodeAt(i+1))return c("unmatched `/*`");continue}return 0!==p?g>e&&h>g?c("missing closing `}` or `*/`",e):c("missing closing `}`",e):0!==q?c("missing closing `)`",f):(d(!0),s)}(b),j)return c(new r(j,a));z=y[0];try{e=new tree.Ruleset(null,this.parsers.primary()),e.root=!0,e.firstRoot=!0}catch(l){return c(new r(l,a))}if(e.toCSS=function(b){return function(c,d){c=c||{};var e,f,g=new tree.evalEnv(c);"object"!=typeof d||Array.isArray(d)||(d=Object.keys(d).map(function(a){var b=d[a];return b instanceof tree.Value||(b instanceof tree.Expression||(b=new tree.Expression([b])),b=new tree.Value([b])),new tree.Rule("@"+a,b,(!1),null,0)}),g.frames=[new tree.Ruleset(null,d)]);try{var h,i=[],j=[new tree.joinSelectorVisitor,new tree.processExtendsVisitor,new tree.toCSSVisitor({compress:Boolean(c.compress)})],k=this;if(c.plugins)for(h=0;h<c.plugins.length;h++)c.plugins[h].isPreEvalVisitor?i.push(c.plugins[h]):c.plugins[h].isPreVisitor?j.splice(0,0,c.plugins[h]):j.push(c.plugins[h]);for(h=0;h<i.length;h++)i[h].run(k);for(e=b.call(k,g),h=0;h<j.length;h++)j[h].run(e);c.sourceMap&&(e=new tree.sourceMapOutput({contentsIgnoredCharsMap:B.imports.contentsIgnoredChars,writeSourceMap:c.writeSourceMap,rootNode:e,contentsMap:B.imports.contents,sourceMapFilename:c.sourceMapFilename,sourceMapURL:c.sourceMapURL,outputFilename:c.sourceMapOutputFilename,sourceMapBasepath:c.sourceMapBasepath,sourceMapRootpath:c.sourceMapRootpath,outputSourceFiles:c.outputSourceFiles,sourceMapGenerator:c.sourceMapGenerator})),f=e.toCSS({compress:Boolean(c.compress),dumpLineNumbers:a.dumpLineNumbers,strictUnits:Boolean(c.strictUnits),numPrecision:8})}catch(l){throw new r(l,a)}if(c.cleancss&&"node"===less.mode){var m=require("clean-css"),n=c.cleancssOptions||{};return void 0===n.keepSpecialComments&&(n.keepSpecialComments="*"),n.processImport=!1,n.noRebase=!0,void 0===n.noAdvanced&&(n.noAdvanced=!0),new m(n).minify(f)}return c.compress?f.replace(/(^(\s)+)|((\s)+$)/g,""):f}}(e.eval),t<s.length-1){t=x;var m=p(t,s);g=s.split("\n"),f=m.line+1,j={type:"Parse",message:"Unrecognised input",index:t,filename:a.currentFileInfo.filename,line:f,column:m.column,extract:[g[f-2],g[f-1],g[f]]}}var n=function(b){return b=j||b||B.imports.error,b?(b instanceof r||(b=new r(b,a)),c(b)):c(null,e)};return a.processImports===!1?n():void new tree.importVisitor(this.imports,n).run(e)},parsers:C={primary:function(){for(var a,b=this.mixin,c=F,d=[];z;)if(a=this.extendRule()||b.definition()||this.rule()||this.ruleset()||b.call()||this.comment()||this.directive())d.push(a);else if(!c(/^[\s\n]+/)&&!c(/^;+/))break;return d},comment:function(){var b;if("/"===s.charAt(t))return"/"===s.charAt(t+1)?new tree.Comment(g(/^\/\/.*/),(!0),t,a.currentFileInfo):(b=g(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/),b?new tree.Comment(b,(!1),t,a.currentFileInfo):void 0)},comments:function(){for(var a,b=[];;){if(a=this.comment(),!a)break;b.push(a)}return b},entities:{quoted:function(){var b,c,d=t,e=t;if("~"===s.charAt(d)&&(d++,c=!0),'"'===s.charAt(d)||"'"===s.charAt(d))return c&&h("~"),b=g(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/),b?new tree.Quoted(b[0],b[1]||b[2],c,e,a.currentFileInfo):void 0},keyword:function(){var a;if(a=g(/^[_A-Za-z-][_A-Za-z0-9-]*/)){var b=tree.Color.fromKeyword(a);return b?b:new tree.Keyword(a)}},call:function(){var b,c,d,e,f=t;if(b=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(z)){if(b=b[1],c=b.toLowerCase(),"url"===c)return null;if(t+=b.length,"alpha"===c&&(e=C.alpha(),"undefined"!=typeof e))return e;if(h("("),d=this.arguments(),h(")"))return b?new tree.Call(b,d,f,a.currentFileInfo):void 0}},arguments:function(){for(var a,b=[];;){if(a=this.assignment()||C.expression(),!a)break;if(b.push(a),!h(","))break}return b},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var a,b;if(a=g(/^\w+(?=\s?=)/i),a&&h("="))return b=C.entity(),b?new tree.Assignment(a,b):void 0},url:function(){var b;if("u"===s.charAt(t)&&g(/^url\(/))return b=this.quoted()||this.variable()||g(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",k(")"),new tree.URL(null!=b.value||b instanceof tree.Variable?b:new tree.Anonymous(b),a.currentFileInfo)},variable:function(){var b,c=t;if("@"===s.charAt(t)&&(b=g(/^@@?[\w-]+/)))return new tree.Variable(b,c,a.currentFileInfo)},variableCurly:function(){var b,c=t;if("@"===s.charAt(t)&&(b=g(/^@\{([\w-]+)\}/)))return new tree.Variable("@"+b[1],c,a.currentFileInfo)},color:function(){var a;if("#"===s.charAt(t)&&(a=g(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/)))return new tree.Color(a[1])},dimension:function(){var a,b=s.charCodeAt(t);if(!(b>57||b<43||47===b||44==b))return a=g(/^([+-]?\d*\.?\d+)(%|[a-z]+)?/),a?new tree.Dimension(a[1],a[2]):void 0},unicodeDescriptor:function(){var a;if(a=g(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/))return new tree.UnicodeDescriptor(a[0])},javascript:function(){var b,c,d=t;if("~"===s.charAt(d)&&(d++,c=!0),"`"===s.charAt(d))return void 0===a.javascriptEnabled||a.javascriptEnabled||l("You are using JavaScript, which has been disabled."),c&&h("~"),b=g(/^`([^`]*)`/),b?new tree.JavaScript(b[1],t,c):void 0}},variable:function(){var a;if("@"===s.charAt(t)&&(a=g(/^(@[\w-]+)\s*:/)))return a[1]},extend:function(a){var b,c,d,e,f,i=t;if(g(a?/^&:extend\(/:/^:extend\(/)){do{for(d=null,b=null;!(d=g(/^(all)(?=\s*(\)|,))/))&&(c=this.element());)b?b.push(c):b=[c];d=d&&d[1],f=new tree.Extend(new tree.Selector(b),d,i),e?e.push(f):e=[f]}while(h(","));return j(/^\)/),a&&j(/^;/),e}},extendRule:function(){return this.extend(!0)},mixin:{call:function(){var d,e,f,i,j,l,m=s.charAt(t),n=!1,o=t;if("."===m||"#"===m){for(b();;){if(d=t,i=g(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/),!i)break;f=new tree.Element(j,i,d,a.currentFileInfo),e?e.push(f):e=[f],j=h(">")}return e&&(h("(")&&(l=this.args(!0).args,k(")")),C.important()&&(n=!0),C.end())?new tree.mixin.Call(e,l,o,a.currentFileInfo,n):void c()}},args:function(a){for(var b,c,d,e,f,i,k=B.parsers,m=k.entities,n={args:null,variadic:!1},o=[],p=[],q=[];;){if(a)i=k.expression();else{if(k.comments(),"."===s.charAt(t)&&g(/^\.{3}/)){n.variadic=!0,h(";")&&!b&&(b=!0),(b?p:q).push({variadic:!0});break}i=m.variable()||m.literal()||m.keyword()}if(!i)break;e=null,i.throwAwayComments&&i.throwAwayComments(),f=i;var r=null;if(a?1==i.value.length&&(r=i.value[0]):r=i,r&&r instanceof tree.Variable)if(h(":"))o.length>0&&(b&&l("Cannot mix ; and , as delimiter types"),c=!0),f=j(k.expression),e=d=r.name;else{if(!a&&g(/^\.{3}/)){n.variadic=!0,h(";")&&!b&&(b=!0),(b?p:q).push({name:i.name,variadic:!0});break}a||(d=e=r.name,f=null)}f&&o.push(f),q.push({name:e,value:f}),h(",")||(h(";")||b)&&(c&&l("Cannot mix ; and , as delimiter types"),b=!0,o.length>1&&(f=new tree.Value(o)),p.push({name:d,value:f}),d=null,o=[],c=!1)}return n.args=b?p:q,n},definition:function(){var a,d,e,f,i=[],k=!1;if(!("."!==s.charAt(t)&&"#"!==s.charAt(t)||m(/^[^{]*\}/))&&(b(),d=g(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/))){a=d[1];var l=this.args(!1);if(i=l.args,k=l.variadic,h(")")||(x=t,c()),C.comments(),g(/^when/)&&(f=j(C.conditions,"expected condition")),e=C.block())return new tree.mixin.Definition(a,i,e,f,k);c()}}},entity:function(){var a=this.entities;return a.literal()||a.variable()||a.url()||a.call()||a.keyword()||a.javascript()||this.comment()},end:function(){return h(";")||n("}")},alpha:function(){var a;if(g(/^\(opacity=/i))return a=g(/^\d+/)||this.entities.variable(),a?(k(")"),new tree.Alpha(a)):void 0},element:function(){var b,c,d,e=t;if(c=this.combinator(),b=g(/^(?:\d+\.\d+|\d+)%/)||g(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||h("*")||h("&")||this.attribute()||g(/^\([^()@]+\)/)||g(/^[\.#](?=@)/)||this.entities.variableCurly(),b||h("(")&&(d=this.selector())&&h(")")&&(b=new tree.Paren(d)),b)return new tree.Element(c,b,e,a.currentFileInfo)},combinator:function(){var a=s.charAt(t);if(">"===a||"+"===a||"~"===a||"|"===a||"^"===a){for(t++,"^"===s.charAt(t)&&(a="^^",t++);e(s,t);)t++;return new tree.Combinator(a)}return e(s,t-1)?new tree.Combinator(" "):new tree.Combinator(null)},lessSelector:function(){return this.selector(!0)},selector:function(b){for(var c,d,e,f,g,h,i,k=t,m=F;(b&&(g=this.extend())||b&&(h=m(/^when/))||(f=this.element()))&&(h?i=j(this.conditions,"expected condition"):i?l("CSS guard can only be used at the end of selector"):g?d?d.push(g):d=[g]:(d&&l("Extend can only be used at the end of selector"),e=s.charAt(t),c?c.push(f):c=[f],f=null),"{"!==e&&"}"!==e&&";"!==e&&","!==e&&")"!==e););return c?new tree.Selector(c,d,i,k,a.currentFileInfo):void(d&&l("Extend must be used to extend a selector, it cannot be used on its own"))},attribute:function(){if(h("[")){var a,b,c,d=this.entities;return(a=d.variableCurly())||(a=j(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/)),c=g(/^[|~*$^]?=/),c&&(b=d.quoted()||g(/^[0-9]+%/)||g(/^[\w-]+/)||d.variableCurly()),k("]"),new tree.Attribute(a,c,b)}},block:function(){var a;if(h("{")&&(a=this.primary())&&h("}"))return a},ruleset:function(){var d,e,f,g;for(b(),a.dumpLineNumbers&&(g=q(t,s,a));;){if(e=this.lessSelector(),!e)break;if(d?d.push(e):d=[e],this.comments(),e.condition&&d.length>1&&l("Guards are only currently allowed on a single selector."),!h(","))break;e.condition&&l("Guards are only currently allowed on a single selector."),this.comments()}if(d&&(f=this.block())){var i=new tree.Ruleset(d,f,a.strictImports);return a.dumpLineNumbers&&(i.debugInfo=g),i}x=t,c()},rule:function(d){var e,f,g,h=s.charAt(t),i=!1;if(b(),"."!==h&&"#"!==h&&"&"!==h&&(e=this.variable()||this.ruleProperty())){if(f=!d&&(a.compress||e.charAt&&"@"===e.charAt(0))?this.value()||this.anonymousValue():this.anonymousValue()||this.value(),g=this.important(),i=e.pop&&"+"===e.pop().value,f&&this.end())return new tree.Rule(e,f,g,i,w,a.currentFileInfo);if(x=t,c(),f&&!d)return this.rule(!0)}},anonymousValue:function(){var a;if(a=/^([^@+\/'"*`(;{}-]*);/.exec(z))return t+=a[0].length-1,new tree.Anonymous(a[1])},"import":function(){var d,e,f=t;b();var i=g(/^@import?\s+/),j=(i?this.importOptions():null)||{};return i&&(d=this.entities.quoted()||this.entities.url())&&(e=this.mediaFeatures(),h(";"))?(e=e&&new tree.Value(e),new tree.Import(d,e,j,f,a.currentFileInfo)):void c()},importOptions:function(){var a,b,c,d={};if(!h("("))return null;do if(a=this.importOption()){switch(b=a,c=!0,b){case"css":b="less",c=!1;break;case"once":b="multiple",c=!1}if(d[b]=c,!h(","))break}while(a);return k(")"),d},importOption:function(){var a=g(/^(less|css|multiple|once|inline|reference)/);if(a)return a[1]},mediaFeature:function(){var b,c,d=this.entities,e=[];do if(b=d.keyword()||d.variable())e.push(b);else if(h("(")){if(c=this.property(),b=this.value(),!h(")"))return null;if(c&&b)e.push(new tree.Paren(new tree.Rule(c,b,null,null,t,a.currentFileInfo,(!0))));else{if(!b)return null;e.push(new tree.Paren(b))}}while(b);if(e.length>0)return new tree.Expression(e)},mediaFeatures:function(){var a,b=this.entities,c=[];do if(a=this.mediaFeature()){if(c.push(a),!h(","))break}else if(a=b.variable(),a&&(c.push(a),!h(",")))break;while(a);return c.length>0?c:null},media:function(){var b,c,d,e;if(a.dumpLineNumbers&&(e=q(t,s,a)),g(/^@media/)&&(b=this.mediaFeatures(),c=this.block()))return d=new tree.Media(c,b,t,a.currentFileInfo),a.dumpLineNumbers&&(d.debugInfo=e),d},directive:function(){var d,e,f,i,j,k,l,m,n=t;if("@"===s.charAt(t)){if(e=this["import"]()||this.media())return e;if(b(),d=g(/^@[a-z-]+/)){switch(i=d,"-"==d.charAt(1)&&d.indexOf("-",2)>0&&(i="@"+d.slice(d.indexOf("-",2)+1)),i){case"@font-face":j=!0;break;case"@viewport":case"@top-left":case"@top-left-corner":case"@top-center":case"@top-right":case"@top-right-corner":case"@bottom-left":case"@bottom-left-corner":case"@bottom-center":case"@bottom-right":case"@bottom-right-corner":case"@left-top":case"@left-middle":case"@left-bottom":case"@right-top":case"@right-middle":case"@right-bottom":j=!0;break;case"@host":case"@page":case"@document":case"@supports":case"@keyframes":j=!0,k=!0;break;case"@namespace":l=!0}if(k&&(m=(g(/^[^{]+/)||"").trim(),m&&(d+=" "+m)),j){if(f=this.block())return new tree.Directive(d,f,n,a.currentFileInfo)}else if(e=l?this.expression():this.entity(),e&&h(";")){var o=new tree.Directive(d,e,n,a.currentFileInfo);return a.dumpLineNumbers&&(o.debugInfo=q(t,s,a)),o}c()}}},value:function(){var a,b=[];do if(a=this.expression(),a&&(b.push(a),!h(",")))break;while(a);if(b.length>0)return new tree.Value(b)},important:function(){if("!"===s.charAt(t))return g(/^! *important/)},sub:function(){var a,b;if(h("(")&&(a=this.addition()))return b=new tree.Expression([a]),k(")"),b.parens=!0,b},multiplication:function(){var a,b,c,d,f;if(a=this.operand()){for(f=e(s,t-1);;){if(m(/^\/[*\/]/))break;if(c=h("/")||h("*"),!c)break;if(b=this.operand(),!b)break;a.parensInOp=!0,b.parensInOp=!0,d=new tree.Operation(c,[d||a,b],f),f=e(s,t-1)}return d||a}},addition:function(){var a,b,c,d,f;if(a=this.multiplication()){for(f=e(s,t-1);;){if(c=g(/^[-+]\s+/)||!f&&(h("+")||h("-")),!c)break;if(b=this.multiplication(),!b)break;a.parensInOp=!0,b.parensInOp=!0,d=new tree.Operation(c,[d||a,b],f),f=e(s,t-1)}return d||a}},conditions:function(){var a,b,c,d=t;if(a=this.condition()){for(;;){if(!m(/^,\s*(not\s*)?\(/)||!h(","))break;if(b=this.condition(),!b)break;c=new tree.Condition("or",c||a,b,d)}return c||a}},condition:function(){var a,b,c,d,e=this.entities,f=t,h=!1;if(g(/^not/)&&(h=!0),k("("),a=this.addition()||e.keyword()||e.quoted())return d=g(/^(?:>=|<=|=<|[<=>])/),d?(b=this.addition()||e.keyword()||e.quoted(),b?c=new tree.Condition(d,a,b,f,h):l("expected expression")):c=new tree.Condition("=",a,new tree.Keyword("true"),f,h),k(")"),g(/^and/)?new tree.Condition("and",c,this.condition()):c},operand:function(){var a,b=this.entities,c=s.charAt(t+1);"-"!==s.charAt(t)||"@"!==c&&"("!==c||(a=h("-"));var d=this.sub()||b.dimension()||b.color()||b.variable()||b.call();return a&&(d.parensInOp=!0,d=new tree.Negative(d)),d},expression:function(){var a,b,c=[];do a=this.addition()||this.entity(),a&&(c.push(a),m(/^\/[\/*]/)||(b=h("/"),b&&c.push(new tree.Anonymous(b))));while(a);if(c.length>0)return new tree.Expression(c)},property:function(){var a=g(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);if(a)return a[1]},ruleProperty:function(){function b(a){var b=a.exec(e);if(b)return g.push(t+h),h+=b[0].length,e=e.slice(b[1].length),f.push(b[1])}var c,d,e=z,f=[],g=[],h=0;for(b(/^(\*?)/);b(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/););if(f.length>1&&b(/^\s*(\+?)\s*:/)){for(i(h),""===f[0]&&(f.shift(),g.shift()),d=0;d<f.length;d++)c=f[d],f[d]="@"!==c.charAt(0)?new tree.Keyword(c):new tree.Variable("@"+c.slice(2,-1),g[d],a.currentFileInfo);return f}}}}},less.Parser.serializeVars=function(a){var b="";for(var c in a)if(Object.hasOwnProperty.call(a,c)){var d=a[c];b+=("@"===c[0]?"":"@")+c+": "+d+(";"===(""+d).slice(-1)?"":";")}return b};