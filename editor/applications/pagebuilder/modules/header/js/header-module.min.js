(function( exports, $ ) {
    var api   = sedApp.editor;

    $( function() {
        $(".megamenu-drag-area").livequery(function(){
            $(this).bind("afterActivateMegamenuDragArea" , function(e , menu , element){
                if( menu.parents(".module-header:first").length == 1 ){
                    var headerCover = menu.parents(".module-header:first").find(">.header-container-cover");
                    if( headerCover.length == 0 ){
                        headerCover = $('<div class="header-container-cover"></div>').appendTo( menu.parents(".module-header:first") );
                    }

                    if( !element.hasClass("active") ){
                        headerCover.hide();
                    }else{
                        headerCover.show();
                    }
                }
            });
        });


    });

}(sedApp, jQuery));