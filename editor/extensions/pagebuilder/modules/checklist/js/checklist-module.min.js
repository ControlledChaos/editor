(function( exports, $ ) {
    var api = sedApp.editor;

    $( function() {

        //if checklist is not sub module
        //mainShortcode parent tag ---- sed_module
        api.Events.bind("change_icon_sed_checklist" , function(icon){
            var elementId = api.styleCurrentSelector.replace("#" , "");

            api.fn.changeIcon( icon );
            api.fn.updateGroupIcons( elementId , "icon"  , icon.className );

        });

        api.shortcodeUpdate.sed_checklist = {

            number_items : function( id , value ){
                var patternId = $( "#" + id ).siblings(".add-item-checklist:first").attr("id") ,
                    acds = $("#" + id).find("li") ,
                    acdsLen = acds.length;

                 api.addModelPattern({
                    newValue        : value  ,
                    oldValue        : acdsLen  ,
                    type            : "single"  ,
                    id              : id  ,
                    patternId       : patternId  ,
                    list            : acds  ,
                    attrs           : [],
                    shortcode_name  : "sed_checklist"  ,
                    refresh         : true ,
                    //group           :   ,
                    //max             :   ,
                    min             : 1
                    //onCreate        : function(){} ,
                    //onAddPatten     : function(){} ,
                 });
            }

        };


    });


}(sedApp, jQuery));