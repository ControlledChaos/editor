(function( exports, $ ) {
    var api = sedApp.editor;

    $( function() {

        $('.module-counter-box .box').livequery(function(){
                var id_box = $(this).find(".counter-box-pr").attr("id"),
                    data = $(this).find(".counter-box-pr").data() ,
                    options = {
                        useEasing:       data.useEasing,
                        useGrouping:     data.useGrouping,
                        separator:       data.separator,
                        decimal:         data.decimal,
                        prefix:          data.prefix,
                        suffix:          data.suffix,
                    },
                    is_first_time = true;

                var numAnim = new countUp(id_box, data.startVal, data.endVal, data.decimals, data.duration, options);

                $('#' + id_box).waypoint(function() {
                    if( is_first_time === true ){    
                        numAnim.start();
                        is_first_time = false;
                    }
                }, {offset: 'bottom-in-view'});
        });


    });


}(sedApp, jQuery));