(function( exports, $ ) {
    var api = sedApp.editor;

    $( function() {

        $('.module-progress-bar').livequery(function(){
            var id_pbar = $(this).find(".progress-bar").attr("id"),
                  data = $(this).find(".progress-bar").data(),
                  is_first_time = true;

            $('#' + id_pbar).waypoint(function() {
                if( is_first_time === true ){

                    $('#' + id_pbar).progressbar({
                        transition_delay:       data.transitionDelay,
                        refresh_speed:          data.refreshSpeed,
                        display_text:           data.displayText,
                        use_percentage:         data.usePercentage,
                    });

                    is_first_time = false;
                }
            }, {offset: 'bottom-in-view'});

        });

    });


}(sedApp, jQuery));